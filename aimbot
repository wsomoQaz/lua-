local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- 创建界面
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "SimpleAimbotUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 220, 0, 100)
frame.Position = UDim2.new(0, 50, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true

local input = Instance.new("TextBox", frame)
input.Size = UDim2.new(1, -20, 0, 35)
input.Position = UDim2.new(0, 10, 0, 10)
input.PlaceholderText = "输入玩家名字"
input.Text = ""
input.ClearTextOnFocus = false
input.TextColor3 = Color3.new(1,1,1)
input.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
input.TextScaled = true

local toggle = Instance.new("TextButton", frame)
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 55)
toggle.Text = "启动 Aimbot"
toggle.BackgroundColor3 = Color3.fromRGB(60, 180, 60)
toggle.TextColor3 = Color3.new(1, 1, 1)

-- 状态变量
local aimbotOn = false
local targetName = ""
local targetHead = nil

-- 查找匹配玩家
local function findTargetByName(namePart)
    namePart = namePart:lower()
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and string.find(p.Name:lower(), namePart, 1, true) then
            local char = p.Character
            if char and char:FindFirstChild("Head") then
                return char.Head
            end
        end
    end
    return nil
end

-- 每帧锁定
RunService.RenderStepped:Connect(function()
    if aimbotOn then
        if not targetHead or not targetHead:IsDescendantOf(Workspace) then
            targetHead = findTargetByName(targetName)
        end

        if targetHead then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetHead.Position)
        end
    end
end)

-- 按钮事件
toggle.MouseButton1Click:Connect(function()
    if not aimbotOn then
        if input.Text ~= "" then
            targetName = input.Text
            aimbotOn = true
            toggle.Text = "关闭 Aimbot"
            toggle.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        end
    else
        aimbotOn = false
        targetHead = nil
        toggle.Text = "启动 Aimbot"
        toggle.BackgroundColor3 = Color3.fromRGB(60, 180, 60)
    end
end)