loadstring(game:HttpGet("https://pastebin.com/raw/6xQ5gtbj"))();
local OrionLib = loadstring(game:HttpGet("https://pastebin.com/raw/FUEx0f3G"))()
local Window = OrionLib:MakeWindow({Name = "深渊矿工", HidePremium = false, SaveConfig = false, IntroText = "欢迎使用", ConfigFolder = "欢迎使用"})

local Tab = Window:MakeTab({
    Name = "地点",
    Icon = "rbxassetid://7734068321",
    PremiumOnly = false
})

Tab:AddButton({
        Name = "商人",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(52.97, 14.65, 16.85)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "电梯",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(231.63,12.66,27.58)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "地下商店 1",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(225.86,-156.93,-43.64)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "绿色天堂",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(246.85,-286.32,-183.40)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "逆向森林入口",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(91.87,-282.86,233.95)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})



Tab:AddButton({
        Name = "逆向森林商店",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(-272.34,-289.04,-95.76)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})



Tab:AddButton({
        Name = "逆向森林第二层",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(325.18,-361.00,-66.84)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "石英洞",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(464.67,-367.15,175.27)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "白色旋风",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(37.92,-455.49,106.05)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

Tab:AddButton({
        Name = "魔法森林",
        Callback = function()
                local Players = game:GetService("Players")
                local LocalPlayer = Players.LocalPlayer
                local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local HRP = Character:WaitForChild("HumanoidRootPart")

                local targetPosition = Vector3.new(395.07,-609.07,377.68)
                HRP.CFrame = CFrame.new(targetPosition)
        end
})

local Tab = Window:MakeTab({
	Name = "矿石",
	Icon = "rbxassetid://7734068321",
	PremiumOnly = false
})

Tab:AddToggle({
	Name = "夜视",
	Default = false,
	Callback = function(Value)
		if Value then
		    game.Lighting.Ambient = Color3.new(1, 1, 1)
		else
		    game.Lighting.Ambient = Color3.new(0, 0, 0)
		end
	end
})
 
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

local autoTP = false  -- 控制开关标志
local runService = game:GetService("RunService")

-- 获取所有 Center 对象
local function getAllCenters()
    local centers = {}
    local oreFolder = Workspace:FindFirstChild("Map")
        and Workspace.Map:FindFirstChild("Layer 1")
        and Workspace.Map["Layer 1"]:FindFirstChild("StoneArea")
        and Workspace.Map["Layer 1"].StoneArea:FindFirstChild("Amount")
        and Workspace.Map["Layer 1"].StoneArea.Amount:FindFirstChild("StoneOre")

    if oreFolder then
        for _, obj in pairs(oreFolder:GetChildren()) do
            if obj:IsA("BasePart") and obj.Name == "Center" then
                table.insert(centers, obj)
            end
        end
    end

    return centers
end

-- 传送函数
local function teleportTo(part)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = part.CFrame + Vector3.new(0, 3, 0)
    end
end

-- 自动传送功能（放在独立协程中）
task.spawn(function()
    while true do
        if autoTP then
            local centers = getAllCenters()

            for _, center in ipairs(centers) do
                if not autoTP then break end -- 如果中途关闭开关则退出循环

                if center and center.Parent then
                    teleportTo(center)

                    -- 等待当前 Center 是否还存在
                    while center and center:IsDescendantOf(game) and autoTP do
                        task.wait(0.2)
                    end
                end
            end
        end
        task.wait(0.5)
    end
end)

-- 加入 GUI 开关按钮
Tab:AddToggle({
    Name = "自动传送 岩石",
    Default = false,
    Callback = function(Value)
        autoTP = Value
    end
})

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

local autoTP = false  -- 控制开关

-- 获取所有 ShapeStone.Center
local function getShapeStoneCenters()
    local centers = {}
    local folder = Workspace:FindFirstChild("Map")
        and Workspace.Map:FindFirstChild("Layer 1")
        and Workspace.Map["Layer 1"]:FindFirstChild("StoneArea2")
        and Workspace.Map["Layer 1"].StoneArea2:FindFirstChild("Amount")
        and Workspace.Map["Layer 1"].StoneArea2.Amount:FindFirstChild("ShapeStone")

    if folder then
        for _, obj in pairs(folder:GetChildren()) do
            if obj:IsA("BasePart") and obj.Name == "Center" then
                table.insert(centers, obj)
            end
        end
    end

    return centers
end

-- 传送函数
local function teleportTo(part)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = part.CFrame + Vector3.new(0, 3, 0)
    end
end

-- 自动传送循环
task.spawn(function()
    while true do
        if autoTP then
            local centers = getShapeStoneCenters()

            for _, center in ipairs(centers) do
                if not autoTP then break end -- 关闭中止

                if center and center:IsDescendantOf(game) then
                    teleportTo(center)

                    -- 等待该 center 被挖掉
                    while center and center:IsDescendantOf(game) and autoTP do
                        task.wait(0.2)
                    end
                end
            end
        end
        task.wait(0.5)
    end
end)

-- 加入 GUI 控制按钮（OrionLib）
Tab:AddToggle({
    Name = "自动传送 岩石2",
    Default = false,
    Callback = function(Value)
        autoTP = Value
    end
})

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

local autoTP = false  -- 控制开关

-- 获取所有 Grass（只从指定路径下查找）
local function getAllGrassParts()
    local grasses = {}
    local baseFolder = Workspace:FindFirstChild("OreArea")
        and Workspace.OreArea:FindFirstChild("StoneInGreanHeaven")
        and Workspace.OreArea.StoneInGreanHeaven:FindFirstChild("StoneArea-Layer1")
        and Workspace.OreArea.StoneInGreanHeaven["StoneArea-Layer1"]:FindFirstChild("Amount")
        and Workspace.OreArea.StoneInGreanHeaven["StoneArea-Layer1"].Amount:FindFirstChild("MossStone")
        and Workspace.OreArea.StoneInGreanHeaven["StoneArea-Layer1"].Amount.MossStone:FindFirstChild("StoneMain")

    if baseFolder then
        for _, obj in pairs(baseFolder:GetChildren()) do
            if obj:IsA("BasePart") and obj.Name == "Grass" then
                table.insert(grasses, obj)
            end
        end
    end

    return grasses
end

-- 传送函数
local function teleportTo(part)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = part.CFrame + Vector3.new(0, 3, 0)
    end
end

-- 自动传送循环
task.spawn(function()
    while true do
        if autoTP then
            local grassList = getAllGrassParts()

            for _, grass in ipairs(grassList) do
                if not autoTP then break end  -- 退出开关控制

                if grass and grass:IsDescendantOf(game) then
                    teleportTo(grass)

                    -- 等待该 Grass 是否还存在
                    while grass and grass:IsDescendantOf(game) and autoTP do
                        task.wait(0.2)
                    end
                end
            end
        end
        task.wait(0.5) -- 每轮检查间隔
    end
end)

-- OrionLib Tab 控制开关
Tab:AddToggle({
    Name = "自动传送 台鲜石",
    Default = false,
    Callback = function(Value)
        autoTP = Value
    end
})