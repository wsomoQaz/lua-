-- 保留的 OrionLib 框架结构
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/wsomoQaz/lua-/main/Xcccc"))()

local Window = OrionLib:MakeWindow({
    IntroText = "深渊矿工",  -- 加载动画文字
    Name = "深渊矿工 " .. identifyexecutor(), -- 脚本名字，显示执行器
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = ""
})

-- 创建一个功能 Tab
local Tab = Window:MakeTab({
    Name = "功能",
    Icon = "rbxassetid://7733779610", -- 图标素材ID
    PremiumOnly = false
})

Tab:AddButton({
    Name = "50",
    Callback = function()
        -- 服务引用
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- GUI 构建
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoHitBoxGui"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 100)
Frame.Position = UDim2.new(0.5, -100, 0.5, -50)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.Active = true
Frame.Draggable = true
Frame.Name = "MainFrame"

local ToggleBtn = Instance.new("TextButton", Frame)
ToggleBtn.Size = UDim2.new(1, -20, 0, 30)
ToggleBtn.Position = UDim2.new(0, 10, 0, 10)
ToggleBtn.Text = "启动自动攻击"
ToggleBtn.BackgroundColor3 = Color3.fromRGB(60, 180, 75)
ToggleBtn.TextColor3 = Color3.new(1,1,1)

local FoldBtn = Instance.new("TextButton", Frame)
FoldBtn.Size = UDim2.new(1, -20, 0, 25)
FoldBtn.Position = UDim2.new(0, 10, 1, -35)
FoldBtn.Text = "折叠面板"
FoldBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
FoldBtn.TextColor3 = Color3.new(1,1,1)

-- 折叠状态
local folded = false
FoldBtn.MouseButton1Click:Connect(function()
        folded = not folded
        Frame.Size = folded and UDim2.new(0, 200, 0, 40) or UDim2.new(0, 200, 0, 100)
        FoldBtn.Text = folded and "展开面板" or "折叠面板"
end)

-- 自动攻击逻辑
local enabled = false
ToggleBtn.MouseButton1Click:Connect(function()
        enabled = not enabled
        ToggleBtn.Text = enabled and "停止自动攻击" or "启动自动攻击"
        ToggleBtn.BackgroundColor3 = enabled and Color3.fromRGB(200, 50, 50) or Color3.fromRGB(60, 180, 75)
end)

-- 执行参数
local args = {
        13,
        "Standard",
        false,
        "Silver Pickaxe",
        0.85
}

-- 主循环：每秒50次
spawn(function()
        while true do
                if enabled then
                        for i = 1, 50 do
                                -- 安全执行一次调用
                                pcall(function()
                                        ReplicatedStorage:WaitForChild("RemoteEvent"):WaitForChild("HitBox"):FireServer(unpack(args))
                                end)
                        end
                end
                wait(1)
        end
end)
    end
}) 

Tab:AddButton({
    Name = "售卖东西的地方",
    Callback = function()
        local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")

-- 指定目标坐标
local targetPosition = Vector3.new(52.97, 14.65, 16.85)

-- 执行传送
HRP.CFrame = CFrame.new(targetPosition)
    end
})

Tab:AddButton({
    Name = "按钮名称",
    Callback = function()
        local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")

-- 指定目标坐标
local targetPosition = Vector3.new(469.26, -369.15, 169.33)

-- 执行传送
HRP.CFrame = CFrame.new(targetPosition)
    end
})

Tab:AddButton({
    Name = "方台鲜石",
    Callback = function()
        local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")

-- 创建 GUI
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "AutoTeleportGUI"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 220, 0, 110)
frame.Position = UDim2.new(0.5, -110, 0.4, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true

local toggleButton = Instance.new("TextButton", frame)
toggleButton.Size = UDim2.new(1, 0, 0, 30)
toggleButton.Text = "🔽 显示控制"
toggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
toggleButton.TextColor3 = Color3.new(1,1,1)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 18

local controlPanel = Instance.new("Frame", frame)
controlPanel.Position = UDim2.new(0, 0, 0, 35)
controlPanel.Size = UDim2.new(1, 0, 1, -35)
controlPanel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

local teleportButton = Instance.new("TextButton", controlPanel)
teleportButton.Size = UDim2.new(1, -10, 0, 40)
teleportButton.Position = UDim2.new(0, 5, 0, 5)
teleportButton.Text = "开始自动追踪矿石"
teleportButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
teleportButton.TextColor3 = Color3.new(1,1,1)
teleportButton.Font = Enum.Font.SourceSansBold
teleportButton.TextSize = 18

-- 折叠控制
local expanded = true
toggleButton.MouseButton1Click:Connect(function()
	expanded = not expanded
	controlPanel.Visible = expanded
	toggleButton.Text = expanded and "🔽 显示控制" or "▶️ 展开控制"
	frame.Size = expanded and UDim2.new(0, 220, 0, 110) or UDim2.new(0, 220, 0, 35)
end)

-- 自动追踪功能
local tracking = false
local currentTarget = nil

-- 递归搜索所有 StoneMain
local function findNextValidStone()
	for _, obj in ipairs(Workspace:GetDescendants()) do
		if obj:IsA("BasePart") and obj.Name == "StoneMain" and obj.Parent and obj.Parent:IsDescendantOf(Workspace.OreArea) then
			return obj
		end
	end
	return nil
end

-- 追踪循环
RunService.RenderStepped:Connect(function()
	if tracking and currentTarget and currentTarget:IsDescendantOf(Workspace) then
		-- 保持在矿石上方
		HRP.CFrame = currentTarget.CFrame + Vector3.new(0, 6, 0)
	elseif tracking then
		-- 当前矿石消失，寻找下一个
		local nextStone = findNextValidStone()
		if nextStone then
			currentTarget = nextStone
		end
	end
end)

-- 点击按钮开始传送并追踪
teleportButton.MouseButton1Click:Connect(function()
	tracking = not tracking
	if tracking then
		currentTarget = findNextValidStone()
		teleportButton.Text = "停止追踪"
	else
		currentTarget = nil
		teleportButton.Text = "开始自动追踪矿石"
	end
end)
    end
})